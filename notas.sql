-- -----------------------------------------------------
-- Tabla `USUARIOS`
-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `USUARIOS`
(
  `ID_USUARIO` INT(15) NOT NULL PRIMARY KEY,
  `NOMBRE` VARCHAR(60) NOT NULL,
  `APELLIDO` VARCHAR(60) NOT NULL,

  `USUARIO` VARCHAR(40) NOT NULL,
  `PASSWORD` VARCHAR(60) NOT NULL,
  `CORREO` VARCHAR(45) NOT NULL,
  `TELEFONO` VARCHAR(45) NOT NULL
);

-- -----------------------------------------------------
-- Tabla `TECNICOS`
-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `TECNICOS` 
(
  `ID_TECNICO` INT(15) NOT NULL PRIMARY KEY,
  `NOMBRE` VARCHAR(60) NOT NULL,
  `APELLIDO` VARCHAR(60) NOT NULL,
  `USUARIO` VARCHAR(40) NOT NULL,
  `PASSWORD` VARCHAR(60) NOT NULL,
  `CALIFICACION` VARCHAR(15) NOT NULL,
  `CORREO` VARCHAR(45) NOT NULL,
  `TELEFONO` VARCHAR(45) NOT NULL
);

-- -----------------------------------------------------
-- Table `PRODUCTOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PRODUCTOS` 
(
  `ID_PRODUCTOS` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `NOMBRE` VARCHAR(45) NOT NULL
);

-- -----------------------------------------------------
-- Table `MARCAS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `MARCAS` 
(
  `ID_MARCA` INT NOT NULL PRIMARY KEY,
  `MARCA` VARCHAR(45) NOT NULL
);

-- -----------------------------------------------------
-- Tabla `FACTURA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `FACTURA` 
(
  `ID_FACTURA` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `FECHA` VARCHAR(45) NOT NULL,
  `COSTO` VARCHAR(45) NOT NULL,
  `USUARIOS_ID_USUARIO` INT NOT NULL,
  `TECNICOS_ID_TECNICO` INT NOT NULL,
  `PRODUCTOS_ID_PRODUCTOS` INT NOT NULL,
  `MARCAS_ID_MARCA` INT NOT NULL,
  INDEX `fk_FACTURA_USUARIOS1_idx` (`USUARIOS_ID_USUARIO` ASC),
  INDEX `fk_FACTURA_TECNICOS1_idx` (`TECNICOS_ID_TECNICO` ASC),
  INDEX `fk_FACTURA_PRODUCTOS1_idx` (`PRODUCTOS_ID_PRODUCTOS` ASC),
  INDEX `fk_FACTURA_MARCAS1_idx` (`MARCAS_ID_MARCA` ASC),
  CONSTRAINT `fk_FACTURA_USUARIOS1`
    FOREIGN KEY (`USUARIOS_ID_USUARIO`)
    REFERENCES `USUARIOS` (`ID_USUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FACTURA_TECNICOS1`
    FOREIGN KEY (`TECNICOS_ID_TECNICO`)
    REFERENCES `TECNICOS` (`ID_TECNICO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FACTURA_PRODUCTOS1`
    FOREIGN KEY (`PRODUCTOS_ID_PRODUCTOS`)
    REFERENCES `PRODUCTOS` (`ID_PRODUCTOS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FACTURA_MARCAS1`
    FOREIGN KEY (`MARCAS_ID_MARCA`)
    REFERENCES `MARCAS` (`ID_MARCA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
);

-- -----------------------------------------------------
-- Tabla `AGENDA`
-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `AGENDA` 
(
  `ID_CITA` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `FECHA` VARCHAR(45) NOT NULL,
  `HORA` VARCHAR(45) NOT NULL,
  `UBICACION` VARCHAR(45) NOT NULL,
  `USUARIOS_ID_USUARIO` INT(15) NOT NULL,
  `TECNICOS_ID_TECNICO` INT(15) NOT NULL,
  INDEX `fk_AGENDA_USUARIOS_idx` (`USUARIOS_ID_USUARIO` ASC),
  INDEX `fk_AGENDA_TECNICOS1_idx` (`TECNICOS_ID_TECNICO` ASC),
  CONSTRAINT `fk_AGENDA_USUARIOS`
    FOREIGN KEY (`USUARIOS_ID_USUARIO`)
    REFERENCES `USUARIOS` (`ID_USUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AGENDA_TECNICOS1`
    FOREIGN KEY (`TECNICOS_ID_TECNICO`)
    REFERENCES `TECNICOS` (`ID_TECNICO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
);